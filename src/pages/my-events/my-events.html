<!--
  Generated template for the MyEvents page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

	<ion-navbar color="primary">
	  	<ion-buttons left>
		    <button style="margin-top: 1px;min-width: 44px" ion-button color="light" icon-only clear>
				<ion-icon name="md-options" tappable></ion-icon>
			</button>
		</ion-buttons>
		<ion-segment [(ngModel)]="segment" color="light">
			<ion-segment-button value="myEvents">
			My Events
			</ion-segment-button>
			<ion-segment-button value="participating">
			Participating
			</ion-segment-button>
		</ion-segment>
		<ion-buttons end>
		    <button style="margin-right: 0px;" ion-button color="light" icon-only clear menuToggle>
				<ion-icon name="md-menu" tappable></ion-icon>
			</button>
		</ion-buttons>
  	</ion-navbar>
	<ion-searchbar class="header-searchbar" (ionInput)="getItems($event)"></ion-searchbar>

</ion-header>


<ion-content>

	<div [ngSwitch]="segment">

		<ion-list *ngSwitchCase="'myEvents'" class="fullwidth-list">
			<ion-fab top right>
				<button ion-fab mini (click)="createEvent()"><ion-icon name="add"></ion-icon></button>
			</ion-fab>
			<ion-item-divider light>Created Events</ion-item-divider>
			<ion-item *ngFor="let event of myEvents" tappable>
			    <ion-avatar item-left>
					<ion-badge *ngIf="event.likes" color="secondary" style="position: absolute;bottom: 7px;left: 10px;">{{event.likes}}<ion-icon name="ios-heart" style="color:red;font-size:1.3rem;margin-left: 2px;"></ion-icon></ion-badge>
					<img src="{{event.icon}}">
				</ion-avatar>
				<h2>{{event.name}}</h2>
				<p>{{event.street}}, {{event.city}}</p>
				<ion-badge *ngIf="event.friends" item-right>{{event.friends}} Friends</ion-badge>
			</ion-item>
		</ion-list>

		<ion-list class="fullwidth-list" *ngSwitchCase="'participating'">
			<ion-item-divider light>Upcoming</ion-item-divider>
			<ion-item *ngFor="let event of eventsUpcoming" tappable (click)="openEvent(event.id)">
			    <ion-avatar item-left>
					<ion-badge *ngIf="event.likes" color="secondary" style="position: absolute;bottom: 7px;left: 10px;">{{event.likes}}<ion-icon name="ios-heart" style="color:red;font-size:1.3rem;margin-left: 2px;"></ion-icon></ion-badge>
					<img src="{{event.icon}}">
				</ion-avatar>
				<h2>{{event.name}}</h2>
				<p>{{event.street}}, {{event.place}}, {{event.city}}</p>
				<ion-badge *ngIf="event.friends" item-right>{{event.friends}} Friends</ion-badge>
			</ion-item>
			<ion-item-divider light>Finished Events</ion-item-divider>
			<ion-item *ngFor="let event of eventsFinished" tappable (click)="openEvent(event.id)">
			    <ion-avatar item-left>
					<ion-badge *ngIf="event.likes" color="secondary" style="position: absolute;bottom: 7px;left: 10px;">{{event.likes}}<ion-icon name="ios-heart" style="color:red;font-size:1.3rem;margin-left: 2px;"></ion-icon></ion-badge>
					<img src="{{event.icon}}">
				</ion-avatar>
				<h2>{{event.name}}</h2>
				<p>{{event.street}}, {{event.place}}, {{event.city}}</p>
				<ion-badge *ngIf="event.friends" item-right>{{event.friends}} Friends</ion-badge>
			</ion-item>
		</ion-list>

		
	</div>

	

</ion-content>
